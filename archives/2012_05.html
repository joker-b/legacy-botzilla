<!DOCTYPE html>

<html>
<head>
  <html lang="en">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>May 2012: PhotoRant+</title>

  <link rel="stylesheet" href="https://www.botzilla.com/blog/styles-site.css" type="text/css" />
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.botzilla.com/blog/index.rdf" />

  <script language="javascript" type="text/javascript" src="/jquery.js"></script>
  <!-- bootstrap 3.2.0 added sept 2014 -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <!-- end bootstrap CDN call -->

  <script type="text/javascript" language="javascript">
    var botz = {
      HOST: 'www.botzilla.com',
      commentCount: {},
    };
  </script>
  <script src="https://www.botzilla.com/blog/photorant.js"></script>



  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4450500-3, 'botzilla.com');
    ga('send', 'pageview');

  </script>
</head>

<body>

<div class="container">
  <div id="banner">
    <div class="bannerBox">
      <a href="https://www.botzilla.com/blog/">PhotoRant+</a>
    </div>
    <h1>Time Goes By: May 2012</h1>
  </div>

  <div id="archContent">

  <!-- ENTRIES LOOP STARTS -->

  <div class="row">
  <div class="col-md-9 blog">
          
      <!--       <h2 class="date">May 31, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000745"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000745.html">Merely Coincidence</a></h1>
        <p><img alt="bjorke_P1050806.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_P1050806.jpg" width="807" height="454" border="0" /></p>

<p>That Isaac's <a href="http://www.econ.ucsb.edu/">choice of university</a> is also near one of the best skate parks.</p>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000745.html">May 31, 2012</a>
        	<span id="cmts_000745">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=745" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000745'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000745.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">May 30, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000744"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000744.html">Silver Efex Pro</a></h1>
        <p><img alt="bjorke_P1060066.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_P1060066.jpg" width="807" height="454" border="0" /></p>

<p>Hard to look at B&amp;W photos these days without suspecting the hand of Nik Software behind the curtain.</p>

<p><img src="https://www.botzilla.com/blog/archives/pix2012/bjorke_P1060066_thm.jpg" STYLE="display: none;"  /></p>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000744.html">May 30, 2012</a>
        	<span id="cmts_000744">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=744" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000744'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000744.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">May 21, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000743"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000743.html">All Minds Think Alike</a></h1>
        <p>I'm a bit annoyed at the realization that my most-recent <a href="https://www.botzilla.com/blog/archives/000741.html">post on fiddling with HTML5 canvas in Moveable Type</a> looks and behaves in a way that's terribly similar to the page header on <a href="http://googleblog.blogspot.com/">the official Google blog.</a> I <i>must</i> have seen that before... we rarely know where our ideas and parts of ideas come from! Or is it merely "parallel evolution"? Still, it's not as if I'm launching a product, and hardly expect Google's IP lawyers to appear on Botzilla any time soon (hi guys).</p>

<p>And I like their "version" of the interactivity -- ONLY let the mouse have an effect when moving. Will have to check that out on a tablet.... of course, when they're creating a brand presence for a company with.. what, 30,000 employees? you would only expect that they'd take a little more time on polishing than my slice-of-a-Saturday attempt. Pat on the back, lads.</p>

<p>While not posting for a few days, I've been scraping at Botzilla's underlying CSS structure, so that I can rebuild it once more with CSS that will allow a fairly seamless multi-screen experience -- PC web or mobile phone/tablet. This has meant I've already had to update (internally) my use of jquery to use jquery-mobile, have started playing with Modernizr for those stodgy users who insist on running IE, and trying to make peace with myself over the idea that photos that I felt barely look okay 800+ pixels across will just have to be acceptable at mobile-phone sizes.</p>

<p>More to come as this gels.</p>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000743.html">May 21, 2012</a>
        	<span id="cmts_000743">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=743" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000743'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000743.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">May 17, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000742"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000742.html">At Work</a></h1>
        <img alt="bjorke_P1060056.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_P1060056.jpg" width="807" height="454" border="0" />


        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000742.html">May 17, 2012</a>
        	<span id="cmts_000742">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=742" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000742'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000742.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">May 05, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000741"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000741.html">791</a></h1>
        <canvas id="c791" width=800 height=250></canvas>

<P>One more for a Saturday -- see if you can push all the balls off-screen at once! (and no, it won't try to sell you car insurance)</P>


<script type="text/javascript">
var mX791 = 400;
var mY791 = 100;
var gNParts791 = 17;
var gPart791 = new Array();

function r255sq() { return Math.floor(Math.random()*Math.random()*255); } // cauchy

function setup_parts791(W,H) {
	var nc;
	for (var i=0; i<gNParts791; i++) {
	   var x = Math.random()*W;
	   var y = Math.random()*H;
	   var dx = 0; // 2.0-Math.random()*4.0;
	   var dy = 0; // 2.0-Math.random()*4.0;
	   var rad = 50.0+Math.random()*Math.random()*80.0;
	   var r = r255sq();
	   var g = r255sq();
	   var b = r255sq();
	   var c = "rgb("+r+","+g+","+b+")";
	   gPart791.push(new Array(x,y,dx,dy,rad,x,y,c)); // we keep the original x & y
	}
}

function advance791(Ar,W,H) {
   // simple motion for now
   var x = Ar[0];
   var y = Ar[1];
   var dx = Ar[2];
   var dy = Ar[3];
   var rad = Ar[4];
   var ox = Ar[5];
   var oy = Ar[6];
   var c = Ar[7];
   // mouse force
	var ddx = (x-mX791);
	var ddy = (y-mY791);
	var s = ddx*ddx+ddy*ddy- rad*rad*2;
	s = Math.max(1.0,s);
	var n = Math.sqrt(s);
	// s *= 150.0;
	s *= 20.0;
	ddx /= n;
	ddy /= n;
	dx += ddx/s;
	dy += ddy/s;
   // home force
	dox = (x-ox);
	doy = (y-oy);
	ddx = dox/80;
	ddy = doy/80;
	s = ddx*ddx+ddy*ddy;
	if (s> 1.0/80) {
		n = Math.sqrt(s);
		n = Math.max(n,1.0);
		ddx /= n;
		ddy /= n;
		dx -= ddx/s;
		dy -= ddy/s;
		}
   var a = dx*dx + dy*dy;
   var o = dox*dox + doy*doy;
	   x += dx;
	   y += dy;
   dx *= 0.9;
   dy *= 0.9;
   var a = new Array(x,y,dx,dy,rad,ox,oy,c);
   return a;
}

var gCv7 = undefined;

var gCount = 0;

function draw_canv791() {
	if (gCv7 == undefined)
		gCv7 = document.getElementById('c791');
	//if (gCv7) {
		if (gCv7.getContext) {
			var ctx = gCv7.getContext('2d');
			var w = gCv7.width; // 500.0;
			var h = gCv7.height; // 300.0;
			// ctx.fillStyle = "rgb(90,10,0);";
			ctx.fillStyle = "rgba(255,255,255,0.35);";
			ctx.fillRect(0,0,w,h);
			ctx.fillStyle = "rgb(0,0,0);";
			// ctx.fillText("frame "+gCount,20,20);
			gCount += 1;
			if (gPart791.length < 1) {
				setup_parts791(w,h);
			}
			ctx.strokeStyle = "rgba(20,20,20,.5);";
			ctx.lineWidth=1.0;
				ctx.beginPath();
				ctx.moveTo(mX791-4,mY791);
				ctx.lineTo(mX791+4,mY791);
				ctx.stroke();
				ctx.beginPath();
				ctx.moveTo(mX791,mY791+4);
				ctx.lineTo(mX791,mY791-4);
				ctx.stroke();
			var i;
			var j;
			var x, y, r;
			for (i=0; i<gNParts791; i++) {
				x = gPart791[i][0];
				y = gPart791[i][1];
				r = gPart791[i][4];
				ox = gPart791[i][5];
				oy = gPart791[i][6];
				ctx.strokeStyle = "rgba(230,200,160.5);";
				ctx.beginPath();
				ctx.moveTo(x,y);
				ctx.lineTo(ox,oy);
				ctx.stroke();
				ctx.fillStyle = gPart791[i][7];
				ctx.beginPath();
				// ctx.fillText("pos "+x+","+y+", r:"+r,20,40+10*i);
				ctx.arc(x,y,r,0,6.2831,false);
				ctx.fill();
			}
			for (i=0; i<gNParts791; i++) {
				gPart791[i] = advance791(gPart791[i],w,h);
			}
		}
	// } else {
		// document.write("no canvas?");
	//}
}
// $(document).ready(function() {
gRActions.push(function() {
    draw_canv791();
	$("#c791").mousemove(function(e) {
	    mX791 = e.pageX-this.offsetLeft;
	    mY791 = e.pageY-this.offsetTop;
	});
    setInterval(draw_canv791,30);
});
</script>

<P>Everything here, on the JS side, is set up using a shared array of initializer functions,
just like the previous entry on that topic.</P>

<P>Next step might be to re-cast it as SVG... amazing that SVG seems really powerful, but
compared to &lt;canvas&gt;, theres' almost no really good documentation...</P>


<IMG SRC="/blog/archives/pix2012/thumb791.jpg" STYLE="display: none;" />


        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000741.html">May 05, 2012</a>
        	<span id="cmts_000741">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=741" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000741'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000741.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--  -->
      <div class="blogbody">
        <a name="000740"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000740.html">None of These Mean: "Bikes Out of My Way!"</a></h1>
        <p><a href="/blog/archives/pix2012/CA-BikeSafe-2012-15-med.jpg" target="new"><img alt="CA-BikeSafe-2012-15-botz.jpg" src="https://www.botzilla.com/blog/archives/pix2012/CA-BikeSafe-2012-15-botz.jpg" class="img-responsive" border="0" /><br /><i>Press for a larger view</i></a></p>

<p>The state publishes a PDF containing the <a href="http://www.dot.ca.gov/hq/traffops/signtech/mutcdsupp/pdf/camutcd2012/Part9.pdf">2012 California Dept of Transportation Bicycle-Related Roadway Standards.</a> It contained, across several pages, all of the current standards for bicycle-related signage (and much more). I've collected the signs together here for easier web reference (fabric patterns, anyone?).</p>

<p>Note that the vague legacy "Share the Road" sign seems to be fading out, to be replaced by the much clearer "MAY USE FULL LANE." About time!</p>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000740.html">May 05, 2012</a>
        	<span id="cmts_000740">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=740" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000740'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000740.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">May 04, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000739"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000739.html">HTML5 (& JQuery) vs Moveable Type, Part 2</a></h1>
        <canvas id="c789" width=800 height=250></canvas>

<P>Following up on the <A href="/blog/archives/000738.html">previous post,</a> here are the details on a simple way to add multiple dynamic scripts to a Moveable Type index page.</P>

<P>Like the previous post, try using your mouse on this one! Can you slow down the particles?</p>

<P>Basically, we just need to add an (initially empty) array of function references to the page templates, which we'll use to capture each blog entry's unique scripts (rather than letting them launch themselves), and then iterate on that array for the entire page, once it's loaded and ready.<p>

<script type="text/javascript">
var mX739 = 400;
var mY739 = 100;
var gNParts739 = 22;
gPart739 = new Array();

function setup_parts(W,H) {
	var nc;
	for (var i=0; i<gNParts739; i++) {
	   var x = Math.random()*W;
	   var y = Math.random()*H;
	   var dx = 2.0-Math.random()*4.0;
	   var dy = 2.0-Math.random()*4.0;
	   gPart739.push(new Array(x,y,dx,dy));
	}
	// document.write("made "+gNParts739+" particles.");
}

function advance(Ar,W,H) {
   // simple bouncing motion for now
   var x = Ar[0];
   var y = Ar[1];
   var dx = Ar[2];
   var dy = Ar[3];
	var ddx = (x-mX739)/5;
	var ddy = (y-mY739)/5;
	var s = ddx*ddx+ddy*ddy;
	var n = Math.sqrt(s);
	ddx /= n;
	ddy /= n;
	dx += ddx/s;
	dy += ddy/s;
   x += dx;
   y += dy;
   if (x<0) {
	x = -x;
	dx = -dx;
   } else if (x>W) {
	x = 2*W-x;
	dx = -dx;
   }
   if (y<0) {
	y = -y;
	dy = -dy;
   } else if (y>H) {
	y = 2*H-y;
	dy = -dy;
   }
   return new Array(x,y,dx,dy);
}

var gCv = undefined;

var gCount = 0;

function draw_canv739() {
	if (gCv == undefined)
		gCv = document.getElementById('c789');
	//if (gCv) {
		if (gCv.getContext) {
			var ctx = gCv.getContext('2d');
			var w = gCv.width; // 500.0;
			var h = gCv.height; // 300.0;
			// ctx.fillStyle = "rgb(90,10,0);";
			ctx.fillStyle = "rgba(255,255,255,0.95);";
			ctx.fillRect(0,0,w,h);
			ctx.fillStyle = "rgb(0,0,0);";
			ctx.fillText("frame "+gCount,20,20);
			gCount += 1;
			if (gPart739.length < 1) {
				setup_parts(w,h);
			}
			ctx.strokeStyle = "rgba(20,20,20,.5);";
			ctx.lineWidth=1.0;
			var i;
			var j;
			for (i=0; i<gNParts739; i++) {
				ctx.beginPath();
				ctx.arc(gPart739[i][0],gPart739[i][1],3.0,0,6.2831,false);
				ctx.stroke();
			}
			for (i=0; i<(gNParts739-1); i++) {
				for (j=i+1; j<gNParts739; j++) {
					var dx = gPart739[i][0] - gPart739[j][0];
					var dy = gPart739[i][1] - gPart739[j][1];
					var nsq = dx*dx + dy*dy;
					if (nsq<4000) {
						var v = (nsq-500)/3500;
						var v = Math.floor(v*255);
						ctx.strokeStyle = "rgb("+v+","+v+","+v+");";
						ctx.beginPath();
						ctx.moveTo(gPart739[i][0],gPart739[i][1]);
						ctx.lineTo(gPart739[j][0],gPart739[j][1]);
						ctx.stroke();
					}
				}
			}
			for (i=0; i<gNParts739; i++) {
				gPart739[i] = advance(gPart739[i],w,h);
			}
		}
	// } else {
		// document.write("no canvas?");
	//}
}
// $(document).ready(function() {
gRActions.push(function() {
    draw_canv739();
	$("#c789").mousemove(function(e) {
	    mX739 = e.pageX-this.offsetLeft;
	    mY739 = e.pageY-this.offsetTop;
	});
    setInterval(draw_canv739,30);
});
</script>

<p>I'm using jquery, so I declare the array and my <tt>$(document).ready()</tt> function like so:</P>

<pre>
var gRActions = new Array(); // initially empty array of functions...

$(document).ready(function() {
  for (var a=0; a&lt;gRActions.length; a++) {
	gRActions[a]();
  }
});
</pre>

<P>Then in each blog entry, I write the same anonymous javascript function as I might write for
<tt>$(document).ready()</tt>, but instead I just push it into <tt>gRActions:</tt></p>

<PRE>
gRActions.push(function() {
   draw_canv739();
   setInterval(draw_canv739,30);
});
</PRE>

<P>Now the page, regardless of how many blog entries it might contain, will include all of them in its page initialization. Remember also to make sure that any "global" javascript values (including function names!) in this entry, and all HTML elements like &lt;canvas&gt;, have unique names so that they won't collide with other blog entries, should they for some reason both be presented on the same HTML index page someday.</P>

<P>Also, as we've learned from the previous post: put some human-readbale text into the post <I>before</I> the scripting portion of the post, otherwise Facebook becomes confused.</p>



<!-- <IMG SRC="/photo/journal//may03e-15.jpg" STYLE="display: none;" /> -->


        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000739.html">May 04, 2012</a>
        	<span id="cmts_000739">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=739" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000739'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000739.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--  -->
      <div class="blogbody">
        <a name="000738"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000738.html">HTML5 Canvas vs Moveable Type</a></h1>
        <script type="text/javascript">


var mX = 0;
var mY = 0;
var gSpreed = 2;
var gScroll = 0;

var sino = function(V,W,H)
{
	var f = 0.8*Math.sin(V/W);
	var hh = H/2.0;
	var y = hh + hh*f;
	return y;
}

function next_loc(X,Scroll,W,H,Freq,Scale)
{
	var y = sino(Freq*(Scroll+X),W,H);
	var dx = (X-mX)/Scale;
	var dy = (y-mY)/Scale;
	var s = dx*dx+dy*dy;
	var n = Math.sqrt(s);
	dx /= n;
	dy /= n;
	var x = X+dx/s;
	y = y+dy/s;
	return new Array(x,y);
}

gFreqs = new Array(19,20,17,50,3,10,18,19.1);
gScales = new Array(340,100,80,250,50,102,44,400);
gColors = new Array();
gScroll = new Array();
gSpeeds = new Array();

function r255() { return Math.floor(Math.random()*255); }
function r255q() { return Math.floor(Math.random()*Math.random()*255); } // cauchy

function setup_colors() {
	var nc;
	for (var i=0; i<gFreqs.length; i++) {
		nc = "rgba("+r255q()+","+r255q()+","+r255q()+",0.5)";
		gColors.push(nc);
		gScroll.push(0.0);
		gSpeeds.push(1.0+Math.random()*2.0);
	}
}

function draw_c1() {
	var cv = document.getElementById('c1');
	if (cv.getContext) {
		var w = cv.width; // 500.0;
		var h = cv.height; // 300.0;
		var ctx = cv.getContext('2d');
		// ctx.fillStyle = "rgb(90,10,0);";
		ctx.fillStyle = "rgba(240,240,240,0.95);";
		ctx.fillRect(0,0,w,h);
		if (gColors.length < 1) { setup_colors(); }
		var i;
		for (i=0; i<gFreqs.length; i++) {
			// ctx.strokeStyle = "rgba(255,255,190,.5);";
			ctx.strokeStyle = gColors[i];
			ctx.lineWidth=(1.0+(399.0/gScales[i]));
			ctx.beginPath();
			var a = next_loc(0,gScroll[i],w,h,gFreqs[i],gScales[i]);
			ctx.moveTo(a[0],a[1]);
			for (var x=1; x<w; x+=2) {
				a = next_loc(x,gScroll[i],w,h,gFreqs[i],gScales[i]);
				ctx.lineTo(a[0],a[1]);
			}
			ctx.stroke();
		        gScroll[i] += gSpeeds[i];
		}
	}
}

// add to page init list
gRActions.push(function() {
   draw_c1();
   $("#c1").mousemove(function(e) {
	    mX = e.pageX-this.offsetLeft;
	    mY = e.pageY-this.offsetTop;
	    //$('#mousy').html(mX+'/'+mY);
   });
   setInterval(draw_c1,30);
});

</script>
<canvas id="c1" width=800 height=250></canvas>

<P>With a little fiddling it's easy enough to use <tt>&lt;CANVAS&gt;</tt> (and <a HREF="http://jquery.com/" TARGET="new">jquery</a>) in tandem with Botzilla's somewhat elderly (and modified) installation of <a href="http://www.movabletype.org/" target="new">Moveable Type.</a></P>

<P>Minor tricks:<UL>
<LI>Remember to suppress Text Formatting -- no automatic <tt>&lt;P&gt;</tt> tags</LI>
<LI>Between different blog entries, don't reuse variable names, or element names, if you think you might ever need to have multiple canvases on the same page (say, in index or search pages). You will disappear into the fourth circle of scoping hell.</lI>
<LI>Likewise, if you think that multiple canvases per page is a real possibility, then put each canvas's prep and render code into a distinct function, so that you can move your <tt>onload()</tt> or <tt>$(document.ready()</tt> functions into the header template, not the body of the entry itself. In the header, declare an initially-empty array of functions, and have your <tt>ready()</tt> function iterate through them. <BR />Then in each scripted entry, add your entry-specific render function(s) to that array. This way, the <tt>ready()</tt> function can just know what's needing to be set up for the specific page, regardless of which entries are being displayed and the # of visible canvases (A perusal of the initial state of this entry will show that I don't always follow my own advice. But adding that feature to Botzilla is one of my next steps). Be sure to put that array and calling function into <I>all</I> of your index and entry templates!</LI>
<LI>Linked sites like Facebook won't show <tt>&lt;Canvas&gt;</tt> or other animating elements, so if you want a good thumbnail, try adding a hidden image like so: <tt>&lt;IMG SRC="/photo/journal//may03e-15.jpg" STYLE="display: none;" /&gt;</tt></LI>
<LI>MT's preview page doesn't have all this extra js etc built-in. I suppose you can add it, and I probably will over time --  but as a quick workaround, to get a preview, I save my entry, press "Publish," then immediately look at the front index page -- if there's anything wrong, immediately change the entry state back to "Draft" and save again. This will remove the entry from the front page and the RSS feed, but: the "permalink" actual page file (in this case, "/blog/archives/000738.html") will still be there on the server! Download it and debug locally, then transport your changes back into MT. A bit of a shuffle but it's a workflow that <i>can</i> get you from points A to B.</LI>
<LI>Beware trying to test-post to Facebook, changing the contents of the blog entry (even for typos) and trying to post it to FB again -- FB caches everything the first time, so... if you want a change that will appear there, you need to make a new copy of your entire post, publish <i>that,</i> and hide the old one (how do I know this?).</LI>
<LI>Google+ is smart enough to recognize the difference between javascript blocks and actual human-readable body text. <i>Facebook is not,</i> and may just insert blocks of random code onto any FB link you create pointing to your entry. Maybe they will learn.</LI>
</UL></P>

<IMG SRC="/photo/journal//may03e-15.jpg" STYLE="display: none;" />

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000738.html">May 04, 2012</a>
        	<span id="cmts_000738">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=738" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000738'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000738.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">May 02, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000736"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000736.html">Playing All Sides</a></h1>
        <p><img alt="bjorke_MG_8267.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_MG_8267.jpg" width="807" height="397" border="0" /></p>

<p>Despite my belief that Facebook has been a large-than-deserved time sink for myself, I've finally managed to add proper "like" buttons to these pages. Took a little reminding myself how javascript worked, but now every entry has its own "like" button so that, well, so that Facebook can sell more ads.</p>

<p>I've also been poking at <a href="http://www.google.com/producer/currents" target="new">Google Currents</a> as a distribution mechanism for mobile devices, in addition to puzzling over how to make botzilla itself tablet-friendly and how to best reduce all photos to 400 pixels (to bend the old saw about cameras, "the best photo gallery is the one in your hand"?).</p>

<p>What's a bit of a puzzle to me is how to best incorporate either of these with some of the other aspects of botzilla that I'm looking to enhance, especially heavier use of &lt;canvas&gt; tags using animation and where possible WebGL. Given that Facebook looks for static images to grab as thumbnails, and that Currents runs off of RSS, how to best show-off fun animation and interactive imaging experiments?</p>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000736.html">May 02, 2012</a>
        	<span id="cmts_000736">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=736" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000736'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000736.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
    
    <p>&nbsp;</p>
    <div class="well well-sm"><small><i>All content on botzilla.com is ©1994-2017 by Kevin Bjorke. All Rights Reserved.</i></small></div>
  </div>
  <div class="col-md-3 text-right">
      <ul class="list-unstyled">
        <li><a href="https://www.botzilla.com/blog/index.html"
            title="BotzBlog Current Index">Current Entry</a></li>
        <li><a href="https://www.botzilla.com/blog/archives.html"
            title="Journal Archives, Blogrolls, & Links 4 U!">Links+Archives</a></li>
        <li><a href="https://www.botzilla.com/blog/index.xml" title="Subscribe">RSS</a></li>
        <li><a href="/photo/botzpix/"
            title="Photos Indexed from This Journal">Blogshots</a></li>
        <li><a href="/photo/salon/gindex.html"
          title="Sorta-Weekly Photos, 2002-2003 - Maybe the real photoblog?">Street Photo</a></li>
        <li><a href="/index.html"
          title="Much More Botzilla">Home</a></li>
        </ul>
  </div>
  </div>

</div>

</body>
</html>
