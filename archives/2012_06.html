<!DOCTYPE html>

<html>
<head>
  <html lang="en">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>June 2012: PhotoRant+</title>

  <link rel="stylesheet" href="https://www.botzilla.com/blog/styles-site.css" type="text/css" />
  <link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.botzilla.com/blog/index.rdf" />

  <script language="javascript" type="text/javascript" src="/jquery.js"></script>
  <!-- bootstrap 3.2.0 added sept 2014 -->
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
  <!-- Latest compiled and minified JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
  <!-- end bootstrap CDN call -->

  <script type="text/javascript" language="javascript">
    var botz = {
      HOST: 'www.botzilla.com',
      commentCount: {},
    };
  </script>
  <script src="https://www.botzilla.com/blog/photorant.js"></script>



  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-4450500-3, 'botzilla.com');
    ga('send', 'pageview');

  </script>
</head>

<body>

<div class="container">
  <div id="banner">
    <div class="bannerBox">
      <a href="https://www.botzilla.com/blog/">PhotoRant+</a>
    </div>
    <h1>Time Goes By: June 2012</h1>
  </div>

  <div id="archContent">

  <!-- ENTRIES LOOP STARTS -->

  <div class="row">
  <div class="col-md-9 blog">
          
      <!--       <h2 class="date">June 22, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000749"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000749.html">JavaScript: The Bad Parts</a></h1>
        <H3>Web Geek Warning</H3>
<P>Last night I headed over to the Paypal/EBay offices to see a presentation by <a HREF="http://crockford.com/">Douglas Crockford,</A> titled <a href="http://www.meetup.com/TechXploration/events/65087252/">Programming Styles and Your Brain</a></P>


<P>I'll admit that I was a little bit skeptical about coming away with much useful information (a general rule: be cautious around tech companies that have had near-zero evolution since, oh, 1995), but in fact the debugging bits were pretty illuminating. Here are some sketchy notes:</P>

<H3>Your Brain</H3>

<P>Crockford’s lecture had about five introductory minutes of broad speculation (he's earned the right!) mixed with notes cribbed from <a href="http://www.nobelprize.org/nobel_prizes/economics/laureates/2002/kahneman-autobio.html" TARGET="new">Daniel Kahneman</A>…</P>

<UL>
<LI>Computer programs are the most complicated things humans make</LI>
<LI>Humans suck at making such things</LI>
<LI>They make mistakes</LI>
<LI>They confuse “hardly ever happens” with “never happens”</LI>
<LI>They confuse reading two threads on a  jquery forum with an education</LI>
<LI>They write in C++ when the language is not C++ (or Java, HLSL, python, Mel, Fortran…)</LI>
<LI>They mistake complex obscurantist  “cool” with professional “clear” coding</LI>
<LI>The human is almost always the limiting factor in software</LI>
<LI>Being consistent in style is the easiest way to avoid common errors (especially forms that are difficult to distinguish rom errors, which in JS are many)</LI>
<LI>Anyone can program, few can debug</LI>
</UL>

<H3>JavaScript</H3>
<P>This was the expected real bulk of the presentation, a longer not-veiled pitch for <A HREF="http://www.jslint.com/" TARGET="new">JSLint</A> and his book <A HREF="http://www.amazon.com/exec/obidos/ASIN/0596517742/wrrrldwideweb" TARGET="new">“Javascript: the Good Parts”</a> -- especially about how to avoid the bad parts:</P>

<UL>
<LI><I>Auto-semicolon closure.</I> This burns people so, so, much, and is one reason where it really does make a difference (for polyglot programmers) to get in the habit of putting the curly open-brace to the right of the if() clause on the same line, rather than on the line below – just like K&R intended.</LI>
<LI>Stupid multi-line strings that use “\” at line breaks because the parsers don’t recognize trailing spaces and the editors don’t show them.</LI>
<LI>Mistaking the scope of “var” to be block scope (like C, python, etc) – it’s function scope, so avoid declaration-inside-the-block constructions like <TT>for (var i=0;…) { … }</TT> because it won’t get declared where you think it is. I know I make this error a fair bit.</LI>
<LI>Make global variables <TT>REALLY_OBVIOUS</TT>. Since there are no macros in JS, <TT>THIS_IN_ONE_WAY</TT> (clearer than, say, Hungarian). In general avoid globals, except that you can’t because that’s how modules link (no linker). </LI>
<LI>If using immediate-invocation functions, put the final () inside the encapsulating () parens – e.g. <TT>(function() {…}());</TT> not <TT>(function() { })();</TT> – the latter wrong construction he called “dangling dog balls style.”</LI>
<LI>Avoid “==” because it does type conversion and different interpreters convert differently! Is (‘’==0) true or false? Use “===” instead, for a direct comparison.</LI>
<LI>Avoid the “switch” statement or at least be obsessively diligent about having break statement in every clause -- and having a default case.</LI>
<LI>Avoid the “with” construct. Consider: <TT>with (o) { foo=koda; }</TT><br /> does it mean:<UL><LI><TT>foo=koda;</TT></LI><LI><TT>o.foo = koda;</TT></LI><LI><TT>foo = o.koda;</TT></LI><LI><TT>o.foo = o.koda;</TT></LI></UL>??? Different interpreters DO give different results!</LI>
<LI><TT>var a = b = 0;</TT> in JS is the same as <TT>/*global */ b = 0; /*local */ var a = b;</TT> -- NOT like C.</LI>
<LI>Not only are “var” declarations hoisted to the top of the function scope, so are function declarations. So beware dependencies that are not resolved! NO ERROR WILL PRINT. Better to just put the var and function declarations at the top of the enclosing function</LI>
<LI>Avoid the “new” pseudo-class construct, not because it doesn’t work but because people often forget to write “new” and then they may accidentally trash that global class-like definition and you are hosed. Just use simple {objects}</LI>
<LI>If you have constructor functions indicate them “LikeThis()” to distinguish them from “all_other_functions()”</LI>
<LI>Avoid “++” which is a leftover from pointer arithmetic days. Just use “+=1” it’s just one more character to type, using “++” doesn’t make you more efficient, it makes you sloppy (especially when few people remember that <TT>i+=1;</TT> is not <TT>i++</TT>  -- it’s <TT>++i;</TT>)</LI>
</UL>

<H3>The Bad Parts?</H3>

<P>So how does the Javascript on Botzilla stack up? Let's just say, it's an ongoing learning process!</P>

<P>In scanning the scripts here (and at <A HREF="http://www.trionworlds.com" TARGET="new">Trion</A>), there appear to really only be a couple of idoms that I need to stamp out from my code to make the analyzer happy. What's yet to be determined is if Javascript's scoping rules will ever really make sense...</p>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000749.html">June 22, 2012</a>
        	<span id="cmts_000749">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=749" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000749'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000749.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">June 12, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000748"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000748.html">My Portable Office</a></h1>
        <p><img alt="bjorke_travoy.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_travoy.jpg" width="807" height="405" border="0" /></p>

<p>Bike Friday Pocket Rocket + Burley Travoy + Samsonite</p>

<p><img src="https://www.botzilla.com/blog/archives/pix2012/bjorke_travoy_thumb.jpg" STYLE="display: none;"  /></p>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000748.html">June 12, 2012</a>
        	<span id="cmts_000748">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=748" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000748'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000748.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">June 10, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000747"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000747.html">Pescadero Phone Panoramas</a></h1>
        <p><img alt="bjorke_pescadero.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_pescadero.jpg" width="807"  border="0" /></p>

<p><img alt="bjorke_pesca2.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_pesca2.jpg" width="807" border="0" /></p>

<p><img alt="bjorke_pesca3.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_pesca3.jpg" width="807" border="0" /></p>

<p><img alt="bjorke_pesca4.jpg" src="https://www.botzilla.com/blog/archives/pix2012/bjorke_pesca4.jpg" width="807" border="0" /></p>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000747.html">June 10, 2012</a>
        	<span id="cmts_000747">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=747" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000747'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000747.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
          
      <!--       <h2 class="date">June 06, 2012</h2>
       -->
      <div class="blogbody">
        <a name="000746"></a>
        <h1><a href="https://www.botzilla.com/blog/archives/000746.html">Black</a></h1>
        <p><a href="http://unstoppablerobotninja.com/demos/resize/fix/">Fluid is the new Black</a> goes the saying of the day, but for Botzilla the main message is: <i>get over it.</i></p>

<p>By that, I mean that if the site needs to work on all possible screen sizes, for future-friendly leanings, then: the pictures are just going to have to be small. And there's the rub for a photo site -- when the pictures are reduced to being upgraded versions of the thumbnails, not the other way 'round. This is tough, and frankly I won't give up without a fight for getting the best possible photographic presentation into place.</p>

<p>At the moment, I'm getting cozy with this little bit of CSS:</p>

<pre>img { max-width: 100%; }</pre>

<p>Which is a trick to ensure that images are resized downwards as their containers shrink.</p>

<p>The obstacle on a site like Botzilla is that most photo &lt;IMG&gt; tags have both WIDTH <i>and</i> HEIGHT properties specified, so that when displayed on a small screen, "max-width" alone doesn't get you very far -- the images don't scale uniformly down, but instead simply compress horizontally, untill they're long tall sticks.</p>

<p>JQuery to the Rescue!</p>

<p>Including this as the first line in my <tt>ready()</tt> function does the trick:</p>

<pre>$("img").removeAttr("height");</pre>

        

        <div class="posted">
        	Posted <a href="https://www.botzilla.com/blog/archives/000746.html">June 06, 2012</a>
        	<span id="cmts_000746">
        	| <a href="https://www.botzilla.com/cgi-bin/mt-comments.cgi?entry_id=746" onclick="OpenComments(this.href); return false">Comments (0)</a></span>
            <script>
            botz.commentCount['cmts_000746'] = 0;
            </script>
        	
        	
          <br clear="right">
          <script type="text/javascript">
        	document.write('<iframe src="' + fbBut("https://www.botzilla.com/blog/archives/000746.html") +'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:350px; height:35px;" allowTransparency="true"></iframe>');
        	</script>
        </div>
      </div>
    
    <p>&nbsp;</p>
    <div class="well well-sm"><small><i>All content on botzilla.com is ©1994-2017 by Kevin Bjorke. All Rights Reserved.</i></small></div>
  </div>
  <div class="col-md-3 text-right">
      <ul class="list-unstyled">
        <li><a href="https://www.botzilla.com/blog/index.html"
            title="BotzBlog Current Index">Current Entry</a></li>
        <li><a href="https://www.botzilla.com/blog/archives.html"
            title="Journal Archives, Blogrolls, & Links 4 U!">Links+Archives</a></li>
        <li><a href="https://www.botzilla.com/blog/index.xml" title="Subscribe">RSS</a></li>
        <li><a href="/photo/botzpix/"
            title="Photos Indexed from This Journal">Blogshots</a></li>
        <li><a href="/photo/salon/gindex.html"
          title="Sorta-Weekly Photos, 2002-2003 - Maybe the real photoblog?">Street Photo</a></li>
        <li><a href="/index.html"
          title="Much More Botzilla">Home</a></li>
        </ul>
  </div>
  </div>

</div>

</body>
</html>
